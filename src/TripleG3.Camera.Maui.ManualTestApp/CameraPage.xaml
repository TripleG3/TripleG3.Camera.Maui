<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:cam="clr-namespace:TripleG3.Camera.Maui;assembly=TripleG3.Camera.Maui"
             x:Class="TripleG3.Camera.Maui.ManualTestApp.CameraPage"
             x:DataType="x:Object"
             Title="Camera Preview">
    <Grid RowDefinitions="Auto,*" ColumnDefinitions="*">
        <VerticalStackLayout Spacing="8" Padding="12" Grid.Row="0">
            <HorizontalStackLayout Spacing="12">
        <Picker x:Name="CameraPicker" Title="Select Camera" WidthRequest="220" SelectedIndexChanged="CameraPicker_SelectedIndexChanged"
            ItemDisplayBinding="{Binding Name}" />
                <!--<Picker x:Name="ModePicker" Title="Render Mode" WidthRequest="180" />-->
                <Button Text="Start" Clicked="OnStartClicked" />
                <Button Text="Stop" Clicked="OnStopClicked" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="8">
                <Entry x:Name="RemoteHostEntry" Placeholder="Remote Host" WidthRequest="160" />
                <Entry x:Name="RemotePortEntry" Placeholder="Port" Keyboard="Numeric" WidthRequest="70" />
                <Button Text="Connect" Clicked="OnConnectClicked" />
                <Label Text="Feed:" VerticalOptions="Center" />
                <Picker x:Name="FeedModePicker" WidthRequest="120" SelectedIndexChanged="FeedModePicker_SelectedIndexChanged">
                    <Picker.Items>
                        <x:String>Live</x:String>
                        <x:String>Buffered</x:String>
                    </Picker.Items>
                </Picker>
                <Label Text="View:" VerticalOptions="Center" />
                <Picker x:Name="ViewModePicker" WidthRequest="110" SelectedIndexChanged="ViewModePicker_SelectedIndexChanged">
                    <Picker.Items>
                        <x:String>Local</x:String>
                        <x:String>Remote</x:String>
                    </Picker.Items>
                </Picker>
            </HorizontalStackLayout>
            <!--<Label FontSize="12" Text="Modes include new GPU view below (NewCameraView)." />-->
        </VerticalStackLayout>
    <Grid Grid.Row="1">
        <cam:CameraView x:Name="GpuCameraView" HorizontalOptions="Fill" VerticalOptions="Fill"/>
        <cam:RemoteVideoView x:Name="RemoteView" IsVisible="False" />
    </Grid>
    </Grid>
</ContentPage>